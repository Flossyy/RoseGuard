<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="RoseGuard.MainPage">

    <ScrollView>
        <VerticalStackLayout
            Padding="24"
            Spacing="16">
            <Label 
                Text="Encrypted calendar notes"
                FontSize="30"
                HorizontalOptions="Center" />
            <Label 
                Text="Each day's note is stored locally in an encrypted SQLite database (SQLCipher)."
                FontSize="16"
                HorizontalOptions="Center"
                HorizontalTextAlignment="Center" />

            <HorizontalStackLayout Spacing="8" HorizontalOptions="Center">
                <Button Text="‹" WidthRequest="40" Clicked="OnPrevMonthClicked" />
                <Label x:Name="MonthLabel"
                       FontAttributes="Bold"
                       FontSize="20"
                       VerticalTextAlignment="Center" />
                <Button Text="›" WidthRequest="40" Clicked="OnNextMonthClicked" />
                <Button Text="Today" Clicked="OnTodayClicked" />
            </HorizontalStackLayout>

            <Grid ColumnSpacing="6" RowSpacing="6">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <Label Text="Sun" Grid.Column="0" HorizontalTextAlignment="Center" />
                <Label Text="Mon" Grid.Column="1" HorizontalTextAlignment="Center" />
                <Label Text="Tue" Grid.Column="2" HorizontalTextAlignment="Center" />
                <Label Text="Wed" Grid.Column="3" HorizontalTextAlignment="Center" />
                <Label Text="Thu" Grid.Column="4" HorizontalTextAlignment="Center" />
                <Label Text="Fri" Grid.Column="5" HorizontalTextAlignment="Center" />
                <Label Text="Sat" Grid.Column="6" HorizontalTextAlignment="Center" />
            </Grid>

            <Grid x:Name="CalendarGrid"
                  ColumnSpacing="6"
                  RowSpacing="6"
                  ColumnDefinitions="*,*,*,*,*,*,*">
            </Grid>

            <Frame BorderColor="{DynamicResource Primary}"
                   BackgroundColor="{DynamicResource Secondary}"
                   Padding="12">
                <VerticalStackLayout Spacing="8">
                    <Label x:Name="SelectedDateLabel"
                           FontAttributes="Bold"
                           FontSize="18" />
                    <Entry x:Name="TitleEntry"
                           Placeholder="Title (optional)"
                           ReturnType="Next" />
                    <Editor x:Name="BodyEditor"
                            Placeholder="Note for this day"
                            HeightRequest="120" />
                    <Button
                        Text="Save note"
                        Clicked="OnSaveClicked" />
                    <Label x:Name="StatusLabel"
                           Text="Database not initialized."
                           FontAttributes="Italic" />
                </VerticalStackLayout>
            </Frame>
        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
